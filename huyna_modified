if not game:IsLoaded() then game.Loaded:Wait() end

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local CoreGui = game:GetService("CoreGui")

-- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
local MainModule = nil
local YBAModule = nil

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
local function getText(key) return key end

-- GUI —Å–æ–∑–¥–∞–Ω–∏–µ
local screenGui = Instance.new("ScreenGui", CoreGui)
screenGui.Name = "SslkinGui"
screenGui.ResetOnSpawn = false

local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Name = "MainFrame"
mainFrame.Position = UDim2.new(0, 20, 0.5, -250)
mainFrame.Size = UDim2.new(0, 400, 0, 500)
mainFrame.BackgroundTransparency = 1
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true

local minWidth = 200
local minHeight = 150

local mainCorner = Instance.new("UICorner", mainFrame)
mainCorner.CornerRadius = UDim.new(0, 8)

local leftPanel = Instance.new("Frame", mainFrame)
leftPanel.Name = "LeftPanel"
leftPanel.Size = UDim2.new(0, 120, 1, 0)
leftPanel.Position = UDim2.new(0, 0, 0, 0)
leftPanel.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
leftPanel.BackgroundTransparency = 0

local leftCorner = Instance.new("UICorner", leftPanel)
leftCorner.CornerRadius = UDim.new(0, 8)

local titleLabel = Instance.new("TextLabel", leftPanel)
titleLabel.Size = UDim2.new(1, 0, 0, 40)
titleLabel.Position = UDim2.new(0, 0, 0, 0)
titleLabel.Text = "üíÄ SSLKIN"
titleLabel.TextColor3 = Color3.new(1, 1, 1)
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 18
titleLabel.BackgroundTransparency = 1
titleLabel.TextXAlignment = Enum.TextXAlignment.Center

local tabButtons = {
    {name = "Main", icon = "üè†"},
    {name = "YBA Hacks", icon = "‚öîÔ∏è"},
    {name = "Settings", icon = "‚öôÔ∏è"}
}

local selectedTab = "Main"

-- Scroll position for each tab
local tabScrollPositions = {
    ["Main"] = 0,
    ["YBA Hacks"] = 0,
    ["Settings"] = 0
}

for i, buttonData in ipairs(tabButtons) do
    local navButton = Instance.new("TextButton", leftPanel)
    navButton.Size = UDim2.new(1, -10, 0, 32)
    navButton.Position = UDim2.new(0, 5, 0, 40 + (i - 1) * 40)
    navButton.Text = buttonData.icon .. " " .. buttonData.name
    navButton.Font = Enum.Font.Gotham
    navButton.TextSize = 14
    navButton.TextColor3 = Color3.new(1, 1, 1)
    navButton.BackgroundColor3 = buttonData.name == selectedTab and Color3.fromRGB(40, 40, 45) or Color3.fromRGB(30, 30, 35)
    navButton.BorderSizePixel = 0
    navButton.AutoButtonColor = false
    
    local buttonCorner = Instance.new("UICorner", navButton)
    buttonCorner.CornerRadius = UDim.new(0, 6)
    
    -- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
    if buttonData.name == selectedTab then
        local highlight = Instance.new("Frame", navButton)
        highlight.Name = "Highlight"
        highlight.Size = UDim2.new(0, 3, 1, 0)
        highlight.Position = UDim2.new(0, 0, 0, 0)
        highlight.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
        highlight.BorderSizePixel = 0
        
        local highlightCorner = Instance.new("UICorner", highlight)
        highlightCorner.CornerRadius = UDim.new(0, 2)
    end
    
    navButton.MouseButton1Click:Connect(function()
        -- Remove highlight from all buttons
        for _, btn in pairs(leftPanel:GetChildren()) do
            if btn:IsA("TextButton") then
                btn.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
                local oldHighlight = btn:FindFirstChild("Highlight")
                if oldHighlight then
                    oldHighlight:Destroy()
                end
            end
        end
        
        navButton.BackgroundColor3 = Color3.fromRGB(40, 40, 45)
        selectedTab = buttonData.name
        
        local highlight = Instance.new("Frame", navButton)
        highlight.Name = "Highlight"
        highlight.Size = UDim2.new(0, 3, 1, 0)
        highlight.Position = UDim2.new(0, 0, 0, 0)
        highlight.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
        highlight.BorderSizePixel = 0
        
        local highlightCorner = Instance.new("UICorner", highlight)
        highlightCorner.CornerRadius = UDim.new(0, 2)
        
        showContent(buttonData.name)
    end)
end

local rightPanel = Instance.new("Frame", mainFrame)
rightPanel.Name = "RightPanel"
rightPanel.Size = UDim2.new(1, -120, 1, 0)
rightPanel.Position = UDim2.new(0, 120, 0, 0)
rightPanel.BackgroundColor3 = Color3.fromRGB(40, 40, 45)
rightPanel.BackgroundTransparency = 0.15
rightPanel.BorderSizePixel = 0

local rightCorner = Instance.new("UICorner", rightPanel)
rightCorner.CornerRadius = UDim.new(0, 8)

local contentTitle = Instance.new("TextLabel", rightPanel)
contentTitle.Size = UDim2.new(1, -20, 0, 30)
contentTitle.Position = UDim2.new(0, 10, 0, 10)
contentTitle.Text = getText("MainFunctions")
contentTitle.TextColor3 = Color3.new(1, 1, 1)
contentTitle.Font = Enum.Font.GothamBold
contentTitle.TextSize = 16
contentTitle.BackgroundTransparency = 1
contentTitle.TextXAlignment = Enum.TextXAlignment.Left

local closeButton = Instance.new("TextButton", rightPanel)
closeButton.Size = UDim2.new(0, 24, 0, 24)
closeButton.Position = UDim2.new(1, -34, 0, 10)
closeButton.Text = "‚úï"
closeButton.TextColor3 = Color3.new(1, 1, 1)
closeButton.Font = Enum.Font.GothamBold
closeButton.TextSize = 14
closeButton.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
closeButton.BorderSizePixel = 0

local closeCorner = Instance.new("UICorner", closeButton)
closeCorner.CornerRadius = UDim.new(0, 6)

closeButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = false
    createReopenButton()
end)

local resizeHandle = Instance.new("Frame", mainFrame)
resizeHandle.Name = "ResizeHandle"
resizeHandle.Size = UDim2.new(0, 15, 0, 15)
resizeHandle.Position = UDim2.new(1, -15, 1, -15)
resizeHandle.BackgroundColor3 = Color3.fromRGB(120, 120, 120)
resizeHandle.BackgroundTransparency = 0.2
resizeHandle.BorderSizePixel = 0

local resizeCorner = Instance.new("UICorner", resizeHandle)
resizeCorner.CornerRadius = UDim.new(0, 3)

-- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞
local isResizing = false
local startMousePos = Vector2.new(0, 0)
local startFrameSize = UDim2.new(0, 0, 0, 0)

resizeHandle.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        isResizing = true
        startMousePos = UserInputService:GetMouseLocation()
        startFrameSize = mainFrame.Size
        
        mainFrame.Draggable = false
        resizeHandle.BackgroundTransparency = 0.1
    end
end)

UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 and isResizing then
        isResizing = false
        mainFrame.Draggable = true
        resizeHandle.BackgroundTransparency = 0.2
    end
end)

RunService.RenderStepped:Connect(function()
    if isResizing then
        local currentMousePos = UserInputService:GetMouseLocation()
        local deltaX = currentMousePos.X - startMousePos.X
        local deltaY = currentMousePos.Y - startMousePos.Y
        
        local newWidth = math.max(minWidth, startFrameSize.X.Offset + deltaX)
        local newHeight = math.max(minHeight, startFrameSize.Y.Offset + deltaY)
        
        mainFrame.Size = UDim2.new(0, newWidth, 0, newHeight)
    end
end)

function createReopenButton()
    local existingButton = screenGui:FindFirstChild("ReopenButton")
    if existingButton then
        existingButton:Destroy()
    end
    
    local reopenButton = Instance.new("TextButton", screenGui)
    reopenButton.Name = "ReopenButton"
    reopenButton.Size = UDim2.new(0, 50, 0, 50)
    reopenButton.Position = UDim2.new(0, 10, 0.5, -25)
    reopenButton.Text = "üíÄ"
    reopenButton.TextColor3 = Color3.new(1, 1, 1)
    reopenButton.Font = Enum.Font.GothamBold
    reopenButton.TextSize = 20
    reopenButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
    reopenButton.BorderSizePixel = 0
    
    local reopenCorner = Instance.new("UICorner", reopenButton)
    reopenCorner.CornerRadius = UDim.new(0.5, 0)
    
    reopenButton.MouseButton1Click:Connect(function()
        mainFrame.Visible = true
        reopenButton:Destroy()
    end)
end

local scrollFrame = Instance.new("ScrollingFrame", rightPanel)
scrollFrame.Size = UDim2.new(1, -20, 1, -55)
scrollFrame.Position = UDim2.new(0, 10, 0, 45)
scrollFrame.BackgroundTransparency = 1
scrollFrame.BorderSizePixel = 0
scrollFrame.ScrollBarThickness = 4
scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
scrollFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y

local functionsContainer = Instance.new("Frame", scrollFrame)
functionsContainer.Name = "FunctionsContainer"
functionsContainer.Size = UDim2.new(1, 0, 0, 0)
functionsContainer.Position = UDim2.new(0, 0, 0, 0)
functionsContainer.BackgroundTransparency = 1
functionsContainer.AutomaticSize = Enum.AutomaticSize.Y

local currentY = 0
local padding = 8

-- GUI Helper Functions
local function createSectionHeader(text)
    currentY = currentY + padding
    local spacer = Instance.new("Frame", functionsContainer)
    spacer.Size = UDim2.new(1, 0, 0, 10)
    spacer.Position = UDim2.new(0, 0, 0, currentY)
    spacer.BackgroundTransparency = 1
    currentY = currentY + 10
    
    local lbl = Instance.new("TextLabel", functionsContainer)
    lbl.Text = text
    lbl.Size = UDim2.new(1, -10, 0, 30)
    lbl.Position = UDim2.new(0, 5, 0, currentY)
    lbl.TextColor3 = Color3.fromRGB(255, 255, 255)
    lbl.BackgroundTransparency = 1
    lbl.Font = Enum.Font.GothamBold
    lbl.TextSize = 14
    lbl.TextXAlignment = Enum.TextXAlignment.Left
    currentY = currentY + 30 + padding
end

local function createToggle(label, default, callback)
    local btn = Instance.new("TextButton", functionsContainer)
    btn.Size = UDim2.new(1, -10, 0, 28)
    btn.Position = UDim2.new(0, 5, 0, currentY)
    btn.Text = label .. ": " .. (default and "ON" or "OFF")
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.BackgroundColor3 = default and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(100, 100, 100)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.BorderSizePixel = 0
    
    local corner = Instance.new("UICorner", btn)
    corner.CornerRadius = UDim.new(0, 6)
    
    btn.MouseButton1Click:Connect(function()
        default = not default
        btn.Text = label .. ": " .. (default and "ON" or "OFF")
        btn.BackgroundColor3 = default and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(100, 100, 100)
        callback(default)
    end)
    
    currentY = currentY + 28 + padding
end

local function createButton(label, callback)
    local btn = Instance.new("TextButton", functionsContainer)
    btn.Size = UDim2.new(1, -10, 0, 28)
    btn.Position = UDim2.new(0, 5, 0, currentY)
    btn.Text = label
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.BorderSizePixel = 0
    
    local corner = Instance.new("UICorner", btn)
    corner.CornerRadius = UDim.new(0, 6)
    
    btn.MouseButton1Click:Connect(callback)
    
    currentY = currentY + 28 + padding
end

local function createDivider()
    local divider = Instance.new("Frame", functionsContainer)
    divider.Size = UDim2.new(1, -10, 0, 2)
    divider.Position = UDim2.new(0, 5, 0, currentY)
    divider.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    divider.BorderSizePixel = 0
    currentY = currentY + 2 + padding
end

-- Content Display Function
function showContent(tabName)
    -- –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
    if selectedTab and scrollFrame then
        tabScrollPositions[selectedTab] = scrollFrame.CanvasPosition.Y
    end
    
    -- –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é
    for _, child in pairs(functionsContainer:GetChildren()) do
        child:Destroy()
    end
    currentY = 0
    
    if tabName == "Main" then
        contentTitle.Text = getText("MainFunctions")
        
        if not MainModule then
            createSectionHeader("‚è≥ Loading Main Module...")
            createButton("Load Module", function()
                -- –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥—É–ª—å main –∏ settings
                local success, result = pcall(function()
                    return loadstring(game:HttpGet('[—Å—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ç–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å —Å main –∏ settings]'))()
                end)
                
                if success and result then
                    MainModule = result
                    showContent("Main") -- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
                else
                    print("Failed to load Main Module:", result)
                end
            end)
        else
            -- Main Functions
            createSectionHeader("üéØ ESP Functions")
            createToggle("ESP Enabled", MainModule.Config.ESP.Enabled, function(v)
                MainModule.Config.ESP.Enabled = v
                -- –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É ESP
            end)
            
            createToggle("Aimbot Enabled", MainModule.Config.Aimbot.Enabled, function(v)
                MainModule.Config.Aimbot.Enabled = v
                -- –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É Aimbot
            end)
            
            createDivider()
            
            createSectionHeader("üöÄ Movement Functions")
            createToggle("Fly", MainModule.MovementConfig.Fly.Enabled, function(v)
                MainModule.MovementConfig.Fly.Enabled = v
                if v then
                    MainModule.startFly()
                else
                    MainModule.stopFly()
                end
            end)
            
            createToggle("NoClip", MainModule.MovementConfig.NoClip.Enabled, function(v)
                MainModule.MovementConfig.NoClip.Enabled = v
                if v then
                    MainModule.startNoClip()
                else
                    MainModule.stopNoClip()
                end
            end)
            
            createToggle("Speed Hack", MainModule.MovementConfig.Speed.Enabled, function(v)
                MainModule.MovementConfig.Speed.Enabled = v
                if v then
                    MainModule.startSpeedHack()
                else
                    MainModule.stopSpeedHack()
                end
            end)
            
            createDivider()
            
            createSectionHeader("üåÄ Teleport Functions")
            createToggle("Teleport to Player", MainModule.TeleportConfig.Enabled, function(v)
                MainModule.TeleportConfig.Enabled = v
                if v then
                    MainModule.startTeleport()
                else
                    MainModule.stopTeleport()
                end
            end)
        end
        
    elseif tabName == "YBA Hacks" then
        contentTitle.Text = getText("YBAHacks")
        
        if not YBAModule then
            createSectionHeader("‚è≥ Loading YBA Module...")
            createButton("Load Module", function()
                -- –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥—É–ª—å YBA hacks
                local success, result = pcall(function()
                    return loadstring(game:HttpGet('[—Å—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ç–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å —Å yba hacks]'))()
                end)
                
                if success and result then
                    YBAModule = result
                    showContent("YBA Hacks") -- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
                else
                    print("Failed to load YBA Module:", result)
                end
            end)
        else
            -- YBA Functions
            createSectionHeader("‚öîÔ∏è Stand Range")
            createToggle("Stand Range Hack", YBAModule.YBAConfig.Enabled, function(v)
                YBAModule.YBAConfig.Enabled = v
                if v then
                    YBAModule.startYBA()
                else
                    YBAModule.stopYBA()
                end
            end)
            
            createToggle("Underground Flight", false, function(v)
                if v then
                    YBAModule.startUndergroundControl()
                else
                    YBAModule.stopUndergroundControl()
                end
            end)
            
            createDivider()
            
            createSectionHeader("üõ°Ô∏è Anti Time Stop")
            createToggle("Anti Time Stop", YBAModule.AntiTimeStopConfig.Enabled, function(v)
                YBAModule.AntiTimeStopConfig.Enabled = v
                if v then
                    YBAModule.startAntiTimeStop()
                else
                    YBAModule.stopAntiTimeStop()
                end
            end)
            
            createDivider()
            
            createSectionHeader("üëÅÔ∏è Item ESP")
            createToggle("Item ESP", YBAModule.YBAConfig.ItemESP.Enabled, function(v)
                YBAModule.YBAConfig.ItemESP.Enabled = v
                -- –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É Item ESP
            end)
            
            createDivider()
            
            createSectionHeader("ü§ñ Auto Farm")
            createToggle("Auto Farm", YBAModule.AutofarmConfig.Enabled, function(v)
                YBAModule.AutofarmConfig.Enabled = v
                -- –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –∞–≤—Ç–æ—Ñ–∞—Ä–º–∞
            end)
        end
        
    elseif tabName == "Settings" then
        contentTitle.Text = getText("MenuSettings")
        
        createSectionHeader("üé® Menu Settings")
        createToggle("Blur Effect", true, function(v)
            -- –õ–æ–≥–∏–∫–∞ –¥–ª—è blur —ç—Ñ—Ñ–µ–∫—Ç–∞
        end)
        
        createButton("Change Accent Color", function()
            -- –õ–æ–≥–∏–∫–∞ –¥–ª—è —Å–º–µ–Ω—ã —Ü–≤–µ—Ç–∞
        end)
    end
    
    functionsContainer.Size = UDim2.new(1, 0, 0, currentY)
    
    selectedTab = tabName
    
    if scrollFrame and tabScrollPositions[tabName] then
        scrollFrame.CanvasPosition = Vector2.new(0, tabScrollPositions[tabName])
    end
end

-- Initialize GUI
showContent("Main")

-- Hotkey –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é
UserInputService.InputBegan:Connect(function(input, gp)
    if not gp and input.KeyCode == Enum.KeyCode.Insert then
        mainFrame.Visible = not mainFrame.Visible
        if mainFrame.Visible then
            local existingButton = screenGui:FindFirstChild("ReopenButton")
            if existingButton then
                existingButton:Destroy()
            end
        else
            createReopenButton()
        end
    end
end)